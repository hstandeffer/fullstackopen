{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","onChange","handleSearch","PersonForm","value","newName","handleNameChange","newNumber","handleNumberChange","type","onClick","addName","Numbers","personsToShow","map","person","key","name","number","deleteName","id","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","errorMessage","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","search","setSearch","setMessage","setErrorMessage","useEffect","personService","returnedPersons","filter","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","returnedPerson","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f70a2dda.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => (\r\n  <div>\r\n    search: <input onChange={props.handleSearch} />\r\n  </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => (\r\n  <div>\r\n    <form>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={props.addName}>add</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Numbers = (props) => (\r\n  <div>\r\n    <ul>\r\n      {props.personsToShow.map((person) => (\r\n        <li key={person.name}>\r\n          {person.name} {person.number} <button onClick={() => props.deleteName(person.id)}>delete</button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  </div>\r\n)\r\n\r\nexport default Numbers","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getPersons = () => {\r\n  return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n  return axios.post(baseUrl, newPerson).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n  return axios.put(`${baseUrl}/${id}`, newPerson).then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n}\r\n\r\nexport default {getPersons, create, update, deletePerson}","import React from 'react'\r\n\r\nconst Notification = ({ message, errorMessage }) => {\r\n  const NotificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const errorNotificationStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null && errorMessage) {\r\n    return <div style={errorNotificationStyle}>{errorMessage}</div>\r\n  }\r\n  else if (errorMessage === null && message) {\r\n    return <div style={NotificationStyle}>{message}</div>\r\n  }\r\n  else return null\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Numbers from './components/Numbers'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setSearch ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getPersons()\r\n      .then(returnedPersons => {\r\n        setPersons(returnedPersons)\r\n    })\r\n  }, [])\r\n\r\n  const addName = event => {\r\n    event.preventDefault()\r\n    if (persons.some(person => person.name === newName)) {\r\n      if (window.confirm(`${newName} is already added to the phonebook, replace old number with new one?`)) {\r\n        const newPerson = {\r\n          name: newName,\r\n          number: newNumber\r\n        }\r\n\r\n        const id = persons.find(person => person.name === newPerson.name).id\r\n\r\n        personService\r\n          .update(id, newPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(`Person with id ${id} has been removed on the server.`)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(person => person.id !== id))\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      const newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      personService\r\n        .create(newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage(`Added ${returnedPerson.name}`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000);\r\n        })\r\n    }\r\n  }\r\n\r\n  const deleteName = id => {\r\n    if (window.confirm(`Are you sure you want to delete the person with id ${id}?`)) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then(setPersons(persons.filter(person => person.id !== id)))\r\n    }\r\n  }\r\n\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(search))\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = event => {\r\n    setSearch(event.target.value.toLowerCase())\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Notification message={message} errorMessage={errorMessage} />\r\n\r\n      <Filter\r\n        handleSearch={handleSearch}\r\n      />\r\n      <h2>Add New</h2>\r\n\r\n      <PersonForm\r\n        addName={addName}\r\n        handleNameChange={handleNameChange}\r\n        newName={newName}\r\n        handleNumberChange={handleNumberChange}\r\n        newNumber={newNumber}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Numbers personsToShow={personsToShow} deleteName={deleteName} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}